"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{6733:function(e,n,t){t.d(n,{$z:function(){return s},g7:function(){return i}});var a=t(7437),r=t(2265),o=(t(7648),t(7667));const s=()=>{const{changeLanguage:e,currentLanguage:n}=(0,o.$G)(),[t,s]=(0,r.useState)(!1),i=(0,o.Ik)(n);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>s(!t),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),(0,a.jsx)("span",{className:"mr-1",children:null===i||void 0===i?void 0:i.flag}),(0,a.jsx)("span",{children:(null===i||void 0===i?void 0:i.nativeName)||(null===i||void 0===i?void 0:i.name)}),(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),(0,a.jsx)("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:o.mT.map((t=>(0,a.jsxs)("button",{onClick:()=>{return n=t.code,e(n),void s(!1);var n},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-3 ".concat(t.code===n?"bg-blue-50 text-blue-600":"text-gray-700"," first:rounded-t-lg last:rounded-b-lg transition-colors"),children:[(0,a.jsx)("span",{className:"text-xl",children:t.flag}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:t.nativeName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.region})]}),t.code===n&&(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},t.code)))})]})]})},i=e=>{let{type:n,title:t,message:r}=e;const o="error"===n;return(0,a.jsx)("div",{className:"mb-6 ".concat(o?"bg-red-50 border-red-200":"bg-green-50 border-green-200"," border rounded-lg p-4"),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:o?(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[t&&(0,a.jsx)("h3",{className:"text-sm font-medium ".concat(o?"text-red-800":"text-green-800"),children:t}),(0,a.jsx)("div",{className:"".concat(t?"mt-1":""," text-sm ").concat(o?"text-red-700":"text-green-700"),children:r})]})]})})};(0,r.forwardRef)(((e,n)=>{let{id:t,name:o,value:s,onChange:i,placeholder:c,required:l=!1,autoComplete:d,className:u="block w-full rounded-md border border-gray-300 px-3 py-2 pr-10 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"}=e;const[g,h]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:n,id:t,name:o,type:g?"text":"password",autoComplete:d,required:l,value:s,onChange:i,placeholder:c,className:u}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!g),tabIndex:-1,children:g?(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,a.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})})).displayName="PasswordInput"},9939:function(e,n,t){t.d(n,{Ik:function(){return o},L_:function(){return s},Yc:function(){return i},k$:function(){return r},mT:function(){return a}});const a=[{code:"fr",name:"French",nativeName:"Fran\xe7ais",region:"France",flag:"\ud83c\uddeb\ud83c\uddf7",dateFormat:"fr-FR"},{code:"en",name:"English",nativeName:"English",region:"United States",flag:"\ud83c\uddfa\ud83c\uddf8",dateFormat:"en-US"},{code:"es",name:"Spanish",nativeName:"Espa\xf1ol",region:"Spain",flag:"\ud83c\uddea\ud83c\uddf8",dateFormat:"es-ES"},{code:"pt",name:"Portuguese",nativeName:"Portugu\xeas",region:"Portugal",flag:"\ud83c\uddf5\ud83c\uddf9",dateFormat:"pt-PT"},{code:"de",name:"German",nativeName:"Deutsch",region:"Germany",flag:"\ud83c\udde9\ud83c\uddea",dateFormat:"de-DE"},{code:"nl",name:"Dutch",nativeName:"Nederlands",region:"Netherlands",flag:"\ud83c\uddf3\ud83c\uddf1",dateFormat:"nl-NL"},{code:"pl",name:"Polish",nativeName:"Polski",region:"Poland",flag:"\ud83c\uddf5\ud83c\uddf1",dateFormat:"pl-PL"},{code:"th",name:"Thai",nativeName:"\u0e44\u0e17\u0e22",region:"Thailand",flag:"\ud83c\uddf9\ud83c\udded",dateFormat:"th-TH"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093f\u0902\u0926\u0940",region:"India",flag:"\ud83c\uddee\ud83c\uddf3",dateFormat:"hi-IN"},{code:"zh",name:"Chinese (Mandarin)",nativeName:"\u4e2d\u6587",region:"China",flag:"\ud83c\udde8\ud83c\uddf3",dateFormat:"zh-CN"}],r="en",o=e=>a.find((n=>n.code===e)),s=e=>a.some((n=>n.code===e)),i=()=>{var e;const n=navigator.language||(null===(e=navigator.languages)||void 0===e?void 0:e[0]);if(!n)return r;const t=n.split("-")[0].toLowerCase();return s(t)?t:r};new Set(["ar","he","fa","ur"])},7667:function(e,n,t){t.d(n,{$G:function(){return f},Ik:function(){return o.Ik},mT:function(){return o.mT}});var a=t(2265),r=t(8225),o=t(9939);const s=(0,r.getSupabaseClient)();class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((n=>n!==e))}}notify(){this.subscribers.forEach((e=>{try{e()}catch(n){console.error("Erreur notification i18n:",n)}}))}constructor(){this.subscribers=[]}}const c=i.getInstance(),l={},d=new Set;let u={},g=!0,h=null;const m=()=>{try{const n=localStorage.getItem("intelia-language");if(n){var e;const t=JSON.parse(n);return(null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.currentLanguage)||o.k$}}catch(n){console.warn("Erreur lecture langue stock\xe9e:",n)}return o.k$};async function v(e){if(d.has(e))return console.warn("[i18n] Langue ".concat(e," en cache d'erreur, utilisation de ").concat(o.k$)),e===o.k$?{}:v(o.k$);if(l[e])return u=l[e],g=!1,h=e,c.notify(),l[e];try{const n=await fetch("/locales/".concat(e,".json"));if(!n.ok)throw new Error("HTTP ".concat(n.status,": Failed to load translations for ").concat(e));const t=await n.json();if(!t||"object"!==typeof t||0===Object.keys(t).length)throw new Error("Empty or invalid translations for ".concat(e));return l[e]=t,u=t,g=!1,h=e,c.notify(),console.log("[i18n] \u2705 Traductions charg\xe9es pour ".concat(e,": ").concat(Object.keys(t).length," cl\xe9s")),t}catch(n){return console.error("[i18n] \u274c Could not load translations for ".concat(e,":"),n),d.add(e),e!==o.k$?(console.warn("[i18n] \ud83d\udd04 Falling back to ".concat(o.k$)),v(o.k$)):(console.error("[i18n] \ud83d\udca5 Even ".concat(o.k$," failed to load, returning empty translations")),{})}}const f=()=>{const[e,n]=(0,a.useState)(o.k$),[t,r]=(0,a.useState)({}),[i,h]=(0,a.useState)(!0),[,f]=(0,a.useState)({});(0,a.useEffect)((()=>c.subscribe((()=>{f({})}))),[]),(0,a.useEffect)((()=>{(async()=>{try{var e,t;const a=m();if(a&&(0,o.L_)(a))return console.log("[i18n] \ud83d\udce6 Initialisation avec langue stock\xe9e: ".concat(a)),void n(a);const{data:{session:r}}=await s.auth.getSession(),i=null===r||void 0===r||null===(t=r.user)||void 0===t||null===(e=t.user_metadata)||void 0===e?void 0:e.language;if(i&&(0,o.L_)(i))return console.log("[i18n] \ud83d\udce6 Initialisation avec langue Supabase: ".concat(i)),void n(i);const c=(0,o.Yc)();console.log("[i18n] \ud83d\udce6 Initialisation avec langue navigateur: ".concat(c)),n(c)}catch(a){console.log("Erreur initialisation langue, utilisation navigateur");const e=(0,o.Yc)();n(e)}})()}),[]),(0,a.useEffect)((()=>{const t=setInterval((()=>{const t=m();t&&t!==e&&(0,o.L_)(t)&&(console.log("[i18n] \ud83d\udd04 Resynchronisation d\xe9tect\xe9e: ".concat(e," \u2192 ").concat(t)),n(t))}),1e3);return()=>{clearInterval(t)}}),[e]),(0,a.useEffect)((()=>{const t=t=>{if("intelia-language"===t.key&&t.newValue)try{var a;const r=JSON.parse(t.newValue),s=null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.currentLanguage;s&&s!==e&&(0,o.L_)(s)&&(console.log("[i18n] \ud83d\udd04 Changement localStorage d\xe9tect\xe9: ".concat(e," \u2192 ").concat(s)),n(s))}catch(r){console.warn("Erreur parsing localStorage change:",r)}};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}}),[e]),(0,a.useEffect)((()=>{(async()=>{h(!0);try{const n=await v(e);r(n),h(!1)}catch(n){console.error("Erreur chargement traductions:",n),h(!1)}})()}),[e]),(0,a.useEffect)((()=>{const e=e=>{n(e.detail.language)};return window.addEventListener("languageChanged",e),()=>{window.removeEventListener("languageChanged",e)}}),[]);return{t:e=>{const n=Object.keys(t).length>0?t:u;return i&&g||!n[e]?e:n[e]},changeLanguage:async e=>{Object.keys(l).forEach((e=>{delete l[e]})),u={},g=!0,d.delete(e),n(e);try{const n={state:{currentLanguage:e}};localStorage.setItem("intelia-language",JSON.stringify(n)),console.log("[i18n] Langue sauvegard\xe9e:",e)}catch(t){console.warn("[i18n] Erreur sauvegarde langue:",t)}await v(e),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:e}}))},getCurrentLanguage:()=>e,formatDate:n=>{const t=(0,o.Ik)(e),a=(null===t||void 0===t?void 0:t.dateFormat)||"en-US";return n.toLocaleDateString(a,{day:"numeric",month:"long",year:"numeric"})},currentLanguage:e,loading:i}}}}]);