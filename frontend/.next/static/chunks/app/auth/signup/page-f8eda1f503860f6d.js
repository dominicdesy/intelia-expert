(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{9091:function(e,r,s){Promise.resolve().then(s.bind(s,6094))},6094:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return w}});var o=s(7437),t=s(2265),a=s(7648),n=s(9376),l=s(9272);const i={fr:{title:"Intelia Expert",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",login:"Se connecter",signup:"Cr\xe9er un compte",rememberMe:"Se souvenir de mon email",forgotPassword:"Mot de passe oubli\xe9 ?",newToIntelia:"Nouveau sur Intelia ?",connecting:"Connexion en cours...",creating:"Cr\xe9ation en cours...",loginError:"Erreur de connexion",signupError:"Erreur de cr\xe9ation",emailRequired:"L'adresse email est requise",emailInvalid:"Veuillez entrer une adresse email valide",passwordRequired:"Le mot de passe est requis",passwordTooShort:"Le mot de passe doit contenir au moins 8 caract\xe8res, une majuscule, une minuscule, un chiffre et un caract\xe8re sp\xe9cial",passwordMismatch:"Les mots de passe ne correspondent pas",firstNameRequired:"Le pr\xe9nom est requis",lastNameRequired:"Le nom de famille est requis",countryRequired:"Le pays est requis",phoneInvalid:"Format de t\xe9l\xe9phone invalide",terms:"conditions d'utilisation",privacy:"politique de confidentialit\xe9",gdprNotice:"En vous connectant, vous acceptez nos",needHelp:"Besoin d'aide ?",contactSupport:"Contactez le support",createAccount:"Cr\xe9er un compte",backToLogin:"Retour \xe0 la connexion",confirmationSent:"Email de confirmation envoy\xe9 ! V\xe9rifiez votre bo\xeete mail.",accountCreated:"Compte cr\xe9\xe9 avec succ\xe8s ! V\xe9rifiez vos emails pour confirmer votre compte.",personalInfo:"Informations personnelles",firstName:"Pr\xe9nom",lastName:"Nom de famille",linkedinProfile:"Profil LinkedIn personnel",contact:"Contact",country:"Pays",countryCode:"Indicatif pays",areaCode:"Indicatif r\xe9gional",phoneNumber:"Num\xe9ro de t\xe9l\xe9phone",company:"Entreprise",companyName:"Nom de l'entreprise",companyWebsite:"Site web de l'entreprise",companyLinkedin:"Page LinkedIn de l'entreprise",optional:"(optionnel)",required:"*",close:"Fermer",alreadyHaveAccount:"D\xe9j\xe0 un compte ?",authSuccess:"Connexion r\xe9ussie !",authError:"Erreur de connexion, veuillez r\xe9essayer.",authIncomplete:"Connexion incompl\xe8te, veuillez r\xe9essayer.",sessionCleared:"Session pr\xe9c\xe9dente effac\xe9e",forceLogout:"D\xe9connexion automatique",loadingCountries:"Chargement des pays...",limitedCountryList:"Liste de pays limit\xe9e (connexion API limit\xe9e)",selectCountry:"S\xe9lectionner un pays..."},en:{title:"Intelia Expert",email:"Email",password:"Password",confirmPassword:"Confirm password",login:"Sign in",signup:"Create account",rememberMe:"Remember my email",forgotPassword:"Forgot password?",newToIntelia:"New to Intelia?",connecting:"Connecting...",creating:"Creating...",loginError:"Login error",signupError:"Signup error",emailRequired:"Email address is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",passwordTooShort:"Password must contain at least 8 characters, one uppercase, one lowercase, one number and one special character",passwordMismatch:"Passwords do not match",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",countryRequired:"Country is required",phoneInvalid:"Invalid phone format",terms:"terms of service",privacy:"privacy policy",gdprNotice:"By signing in, you agree to our",needHelp:"Need help?",contactSupport:"Contact support",createAccount:"Create account",backToLogin:"Back to login",confirmationSent:"Confirmation email sent! Check your mailbox.",accountCreated:"Account created successfully! Check your emails to confirm your account.",personalInfo:"Personal information",firstName:"First name",lastName:"Last name",linkedinProfile:"Personal LinkedIn profile",contact:"Contact",country:"Country",countryCode:"Country code",areaCode:"Area code",phoneNumber:"Phone number",company:"Company",companyName:"Company name",companyWebsite:"Company website",companyLinkedin:"Company LinkedIn page",optional:"(optional)",required:"*",close:"Close",alreadyHaveAccount:"Already have an account?",authSuccess:"Login successful!",authError:"Login error, please try again.",authIncomplete:"Incomplete login, please try again.",sessionCleared:"Previous session cleared",forceLogout:"Automatic logout",loadingCountries:"Loading countries...",limitedCountryList:"Limited country list (limited internet connection)",selectCountry:"Select a country..."}},c=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),d=e=>{const r=[];return e.length<8&&r.push("Au moins 8 caract\xe8res"),/[A-Z]/.test(e)||r.push("Une majuscule"),/[a-z]/.test(e)||r.push("Une minuscule"),/[0-9]/.test(e)||r.push("Un chiffre"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||r.push("Un caract\xe8re sp\xe9cial"),{isValid:0===r.length,errors:r}},u=(e,r,s)=>{if(!e.trim()&&!r.trim()&&!s.trim())return!0;if(e.trim()||r.trim()||s.trim()){if(!e.trim()||!r.trim()||!s.trim())return!1;if(!/^\+[1-9]\d{0,3}$/.test(e.trim()))return!1;if(!/^\d{3}$/.test(r.trim()))return!1;if(!/^\d{7}$/.test(s.trim()))return!1}return!0},m={save:(e,r)=>{try{r&&e?(localStorage.setItem("intelia_remember_email",e),localStorage.setItem("intelia_remember_flag","true"),console.log("\ud83d\udcc4 [Init] Remember me sauvegard\xe9:",{email:e,remember:r})):(localStorage.removeItem("intelia_remember_email"),localStorage.removeItem("intelia_remember_flag"),console.log("\ud83d\udcc4 [Init] Remember me effac\xe9"))}catch(s){console.warn("\u26a0\ufe0f [Init] Erreur sauvegarde remember me:",s)}},load:()=>{try{const e=localStorage.getItem("intelia_remember_email")||"",r="true"===localStorage.getItem("intelia_remember_flag"),s={rememberMe:r,lastEmail:e,hasRememberedEmail:!(!e||!r)};return console.log("\ud83d\udcc4 [Init] Chargement remember me:",s),s}catch(e){return console.warn("\u26a0\ufe0f [Init] Erreur chargement remember me:",e),{rememberMe:!1,lastEmail:"",hasRememberedEmail:!1}}}},p=e=>{let{className:r="w-16 h-16"}=e;return(0,o.jsx)("img",{src:"/images/favicon.png",alt:"Intelia Logo",className:r})},g=e=>{let{onLanguageChange:r,currentLanguage:s}=e;const[a,n]=(0,t.useState)(!1),l=[{code:"fr",name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"es",name:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8"},{code:"de",name:"Deutsch",flag:"\ud83c\udde9\ud83c\uddea"}],i=l.find((e=>e.code===s));return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("button",{onClick:()=>n(!a),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),(0,o.jsx)("span",{children:null===i||void 0===i?void 0:i.name}),(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),(0,o.jsx)("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.map((e=>(0,o.jsxs)("button",{onClick:()=>{r(e.code),n(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center space-x-2 ".concat(e.code===s?"bg-blue-50 text-blue-600":"text-gray-700"," first:rounded-t-lg last:rounded-b-lg transition-colors"),children:[(0,o.jsx)("span",{children:e.flag}),(0,o.jsx)("span",{children:e.name})]},e.code)))})]})]})},h=e=>{let{type:r,title:s,message:t}=e;const a="error"===r;return(0,o.jsx)("div",{className:"mb-6 ".concat(a?"bg-red-50 border-red-200":"bg-green-50 border-green-200"," border rounded-lg p-4"),children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:a?(0,o.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):(0,o.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,o.jsxs)("div",{className:"ml-3",children:[s&&(0,o.jsx)("h3",{className:"text-sm font-medium ".concat(a?"text-red-800":"text-green-800"),children:s}),(0,o.jsx)("div",{className:"".concat(s?"mt-1":""," text-sm ").concat(a?"text-red-700":"text-green-700"),children:t})]})]})})},x=e=>{let{id:r,name:s,value:a,onChange:n,placeholder:l,required:i=!1,autoComplete:c,className:d="block w-full rounded-md border border-gray-300 px-3 py-2 pr-10 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"}=e;const[u,m]=(0,t.useState)(!1);return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{id:r,name:s,type:u?"text":"password",autoComplete:c,required:i,value:a,onChange:n,placeholder:l,className:d}),(0,o.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!u),children:u?(0,o.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,o.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})},f=e=>{let{password:r,confirmPassword:s}=e;if(!r||!s)return null;const t=s===r;return(0,o.jsx)("div",{className:"mt-2 text-xs",children:t?(0,o.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,o.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Les mots de passe correspondent"]}):(0,o.jsxs)("span",{className:"text-red-600 flex items-center",children:[(0,o.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Les mots de passe ne correspondent pas"]})})},b=e=>{let{text:r="Chargement..."}=e;return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)(p,{className:"w-16 h-16 mx-auto mb-4"}),(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:r})]})})},y=e=>{let{t:r}=e;return(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:[r.gdprNotice," ",(0,o.jsx)(a.default,{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:r.terms})," ","et notre"," ",(0,o.jsx)(a.default,{href:"/privacy",className:"text-blue-600 hover:text-blue-500",children:r.privacy})]})})},v=[{value:"CA",label:"Canada",phoneCode:"+1",flag:"\ud83c\udde8\ud83c\udde6"},{value:"US",label:"\xc9tats-Unis",phoneCode:"+1",flag:"\ud83c\uddfa\ud83c\uddf8"},{value:"FR",label:"France",phoneCode:"+33",flag:"\ud83c\uddeb\ud83c\uddf7"},{value:"GB",label:"Royaume-Uni",phoneCode:"+44",flag:"\ud83c\uddec\ud83c\udde7"},{value:"DE",label:"Allemagne",phoneCode:"+49",flag:"\ud83c\udde9\ud83c\uddea"},{value:"IT",label:"Italie",phoneCode:"+39",flag:"\ud83c\uddee\ud83c\uddf9"},{value:"ES",label:"Espagne",phoneCode:"+34",flag:"\ud83c\uddea\ud83c\uddf8"},{value:"BE",label:"Belgique",phoneCode:"+32",flag:"\ud83c\udde7\ud83c\uddea"},{value:"CH",label:"Suisse",phoneCode:"+41",flag:"\ud83c\udde8\ud83c\udded"},{value:"MX",label:"Mexique",phoneCode:"+52",flag:"\ud83c\uddf2\ud83c\uddfd"},{value:"BR",label:"Br\xe9sil",phoneCode:"+55",flag:"\ud83c\udde7\ud83c\uddf7"},{value:"AU",label:"Australie",phoneCode:"+61",flag:"\ud83c\udde6\ud83c\uddfa"},{value:"JP",label:"Japon",phoneCode:"+81",flag:"\ud83c\uddef\ud83c\uddf5"},{value:"CN",label:"Chine",phoneCode:"+86",flag:"\ud83c\udde8\ud83c\uddf3"},{value:"IN",label:"Inde",phoneCode:"+91",flag:"\ud83c\uddee\ud83c\uddf3"},{value:"NL",label:"Pays-Bas",phoneCode:"+31",flag:"\ud83c\uddf3\ud83c\uddf1"},{value:"SE",label:"Su\xe8de",phoneCode:"+46",flag:"\ud83c\uddf8\ud83c\uddea"},{value:"NO",label:"Norv\xe8ge",phoneCode:"+47",flag:"\ud83c\uddf3\ud83c\uddf4"},{value:"DK",label:"Danemark",phoneCode:"+45",flag:"\ud83c\udde9\ud83c\uddf0"},{value:"FI",label:"Finlande",phoneCode:"+358",flag:"\ud83c\uddeb\ud83c\uddee"}],j=()=>{console.log("\ud83c\udfaf [Countries] Hook useCountries appel\xe9!");const[e,r]=(0,t.useState)(v),[s,o]=(0,t.useState)(!0),[a,n]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{console.log("\ud83d\ude80 [Countries] D\xc9MARRAGE du processus de chargement des pays");const e=setTimeout((()=>{console.log("\u23f0 [Countries] D\xe9marrage apr\xe8s d\xe9lai de 100ms"),(async()=>{try{console.log("\ud83c\udf0d [Countries] D\xe9but du chargement depuis l'API REST Countries...");const e=new AbortController,s=setTimeout((()=>{console.log("\u23f1\ufe0f [Countries] Timeout atteint (10s)"),e.abort()}),1e4),o=await fetch("https://restcountries.com/v3.1/all?fields=cca2,name,idd,flag,translations",{headers:{Accept:"application/json","User-Agent":"Mozilla/5.0 (compatible; Intelia/1.0)","Cache-Control":"no-cache"},signal:e.signal});if(clearTimeout(s),console.log("\ud83d\udce1 [Countries] Statut HTTP: ".concat(o.status," ").concat(o.statusText)),!o.ok)throw new Error("API indisponible: ".concat(o.status));const t=await o.json();if(console.log("\ud83d\udcca [Countries] Donn\xe9es re\xe7ues: ".concat(t.length," pays bruts")),!Array.isArray(t))throw console.error("\u274c [Countries] Format invalide - pas un array"),new Error("Format de donn\xe9es invalide");const a=t.map(((e,r)=>{var s,o,t,a;let n="";return(null===(s=e.idd)||void 0===s?void 0:s.root)&&(n=e.idd.root,e.idd.suffixes&&e.idd.suffixes[0]&&(n+=e.idd.suffixes[0])),{value:e.cca2,label:(null===(t=e.translations)||void 0===t||null===(o=t.fra)||void 0===o?void 0:o.common)||(null===(a=e.name)||void 0===a?void 0:a.common)||e.cca2,phoneCode:n,flag:e.flag||""}})).filter((e=>{const r=e.phoneCode&&"undefined"!==e.phoneCode&&"null"!==e.phoneCode&&e.phoneCode.length>1&&e.phoneCode.startsWith("+")&&/^\+\d+$/.test(e.phoneCode),s=e.value&&2===e.value.length&&e.label&&e.label.length>1;return r&&s})).sort(((e,r)=>e.label.localeCompare(r.label,"fr",{numeric:!0})));if(console.log("\u2705 [Countries] Pays valides apr\xe8s filtrage: ".concat(a.length)),!(a.length>=50))throw console.warn("\u26a0\ufe0f [Countries] Pas assez de pays valides: ".concat(a.length,"/50")),new Error("Qualit\xe9 insuffisante: ".concat(a.length,"/50 pays"));console.log("\ud83c\udf89 [Countries] API valid\xe9e! Utilisation des donn\xe9es compl\xe8tes"),r(a),n(!1)}catch(e){console.error("\ud83d\udca5 [Countries] ERREUR:",e),console.warn("\ud83d\udd04 [Countries] Passage en mode fallback"),r(v),n(!0)}finally{console.log("\ud83c\udfc1 [Countries] Chargement termin\xe9"),o(!1)}})()}),100);return()=>clearTimeout(e)}),[]),{countries:e,loading:s,usingFallback:a}},N=e=>(0,t.useMemo)((()=>{const r=e.reduce(((e,r)=>(e[r.value]=r.phoneCode,e)),{});return console.log("\ud83d\uddfa\ufe0f [CountryCodeMap] Mapping cr\xe9\xe9 avec ".concat(Object.keys(r).length," entr\xe9es")),r}),[e]);function C(){console.log("\ud83d\ude80 [PageContent] Composant PageContent rendu");const e=(0,n.useRouter)(),{user:r,isAuthenticated:s,isLoading:v,hasHydrated:C}=((0,n.usePathname)(),(0,n.useSearchParams)(),(0,l.useAuthStore)()),{login:w,register:k,initializeSession:L}=(0,l.useAuthStore)();console.log("\ud83c\udfaf [PageContent] Appel du hook useCountries...");const{countries:E,loading:P,usingFallback:I}=j();console.log("\ud83d\udcca [PageContent] Hook useCountries retourn\xe9:",{countriesLength:E.length,loading:P,usingFallback:I});const S=N(E),q=(0,t.useRef)(!1),R=(0,t.useRef)(!1),M=(0,t.useRef)(!1),A=(0,t.useRef)(!1),[T,z]=(0,t.useState)("fr"),F=(0,t.useMemo)((()=>i[T]),[T]),[B,_]=(0,t.useState)(!1),[W,U]=(0,t.useState)(""),[D,H]=(0,t.useState)(""),[V,$]=(0,t.useState)({email:"",password:"",rememberMe:!1}),[O,K]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",linkedinProfile:"",country:"",countryCode:"",areaCode:"",phoneNumber:"",companyName:"",companyWebsite:"",companyLinkedin:""}),G=(0,t.useCallback)((()=>{if(M.current)console.log("\ud83d\udd12 [Redirect] Redirection d\xe9j\xe0 en cours, skip");else{M.current=!0,console.log("\ud83d\ude80 [Redirect] Redirection vers /chat...");try{e.push("/chat")}catch(r){console.error("\u274c [Redirect] Erreur redirection:",r),M.current=!1}}}),[e]),J=(e,r)=>{$((s=>({...s,[e]:r}))),U("")},Q=(e,r)=>{K((s=>{const o={...s,[e]:r};return"country"===e&&r&&S[r]&&(console.log("\ud83c\udff3\ufe0f [Country] Auto-remplissage code pays:",r,"->",S[r]),o.countryCode=S[r]),o})),U("")},X=async e=>{if(e.preventDefault(),U(""),H(""),V.email)if(c(V.email))if(V.password)try{console.log("\ud83d\udd10 [Login] Tentative connexion..."),await w(V.email,V.password),m.save(V.email,V.rememberMe),H(F.authSuccess),console.log("\u2705 [Login] Connexion r\xe9ussie"),setTimeout((()=>{G()}),1e3)}catch(r){console.error("\u274c [Login] Erreur connexion:",r),U((null===r||void 0===r?void 0:r.message)||F.authError)}else U(F.passwordRequired);else U(F.emailInvalid);else U(F.emailRequired)},Z=async e=>{e.preventDefault(),U(""),H("");const r=O.email?c(O.email)?O.password?d(O.password).isValid?O.password!==O.confirmPassword?F.passwordMismatch:O.firstName.trim()?O.lastName.trim()?O.country?u(O.countryCode,O.areaCode,O.phoneNumber)?null:F.phoneInvalid:F.countryRequired:F.lastNameRequired:F.firstNameRequired:F.passwordTooShort:F.passwordRequired:F.emailInvalid:F.emailRequired;if(r)U(r);else try{console.log("\ud83d\udd10 [Signup] Tentative cr\xe9ation compte...");const e={email:O.email,firstName:O.firstName,lastName:O.lastName,linkedinProfile:O.linkedinProfile,country:O.country,countryCode:O.countryCode,areaCode:O.areaCode,phoneNumber:O.phoneNumber,companyName:O.companyName,companyWebsite:O.companyWebsite,companyLinkedin:O.companyLinkedin};await k(O.email,O.password,e),H(F.accountCreated),console.log("\u2705 [Signup] Cr\xe9ation compte r\xe9ussie"),setTimeout((()=>{_(!1),$((e=>({...e,email:O.email})))}),2e3)}catch(s){console.error("\u274c [Signup] Erreur cr\xe9ation compte:",s),U((null===s||void 0===s?void 0:s.message)||F.signupError)}},Y=e=>{"Enter"===e.key&&(B?Z(e):X(e))},ee=()=>{console.log("\ud83d\udd04 [UI] Basculement mode:",B?"signup \u2192 login":"login \u2192 signup"),_(!B),U(""),H("")};return(0,t.useEffect)((()=>{if(!q.current){q.current=!0,console.log("\ud83c\udfaf [Init] Initialisation unique");const{rememberMe:e,lastEmail:r}=m.load();e&&r&&$((e=>({...e,email:r,rememberMe:!0})))}}),[]),(0,t.useEffect)((()=>{C&&(A.current||(A.current=!0,console.log("\ud83d\udd10 [Session] Initialisation unique de la session"),L()))}),[C,L]),(0,t.useEffect)((()=>{C&&(R.current||v||(R.current=!0,console.log("\ud83d\udd10 [Auth] V\xe9rification unique de l'authentification"),s&&r?(console.log("\u2705 [Auth] Utilisateur connect\xe9, redirection..."),G()):console.log("\u274c [Auth] Utilisateur non connect\xe9")))}),[C,v,s,r,G]),(0,t.useEffect)((()=>(B?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="unset",document.documentElement.style.overflow="unset"),()=>{document.body.style.overflow="unset",document.documentElement.style.overflow="unset"})),[B]),!C||v?(console.log("\u23f3 [Render] Affichage du spinner de chargement"),(0,o.jsx)(b,{})):(console.log("\ud83c\udfa8 [Render] Rendu de la page principale"),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex flex-col justify-center py-8 sm:px-6 lg:px-8 relative ".concat(B?"overflow-hidden":""),children:[!1,(0,o.jsx)("div",{className:"absolute top-4 right-4",children:(0,o.jsx)(g,{onLanguageChange:z,currentLanguage:T})}),(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(p,{className:"w-16 h-16"})}),(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:F.title})]}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:[W&&!B&&(0,o.jsx)(h,{type:"error",title:F.loginError,message:W}),D&&!B&&(0,o.jsx)(h,{type:"success",title:"",message:D}),(0,o.jsx)("form",{onSubmit:X,onKeyPress:Y,children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:F.email}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:V.email,onChange:e=>J("email",e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:F.password}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)(x,{id:"password",name:"password",value:V.password,onChange:e=>J("password",e.target.value),autoComplete:"current-password",required:!0})})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:V.rememberMe,onChange:e=>J("rememberMe",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,o.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:F.rememberMe})]}),(0,o.jsx)("div",{className:"text-sm",children:(0,o.jsx)(a.default,{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:F.forgotPassword})})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:v,className:"flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?F.connecting:F.login})})]})}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[F.newToIntelia," ",(0,o.jsx)("button",{onClick:ee,className:"font-medium text-blue-600 hover:text-blue-500",children:F.createAccount})]})}),(0,o.jsx)(y,{t:F})]})})]}),B&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 p-4 overflow-hidden overscroll-none",children:(0,o.jsxs)("div",{className:"w-full max-w-2xl mx-auto bg-white rounded-lg shadow-xl max-h-[calc(100vh-2rem)] overflow-y-auto overscroll-contain",children:[(0,o.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-lg",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:F.createAccount}),(0,o.jsx)("button",{onClick:ee,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,o.jsxs)("div",{className:"flex-1 px-6 py-4",children:[W&&(0,o.jsx)(h,{type:"error",title:F.signupError,message:W}),D&&(0,o.jsx)(h,{type:"success",title:"",message:D}),(0,o.jsx)("form",{onSubmit:Z,onKeyPress:Y,children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,o.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:F.personalInfo}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.firstName," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),(0,o.jsx)("input",{type:"text",required:!0,value:O.firstName,onChange:e=>Q("firstName",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.lastName," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),(0,o.jsx)("input",{type:"text",required:!0,value:O.lastName,onChange:e=>Q("lastName",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.linkedinProfile," ",F.optional]}),(0,o.jsx)("input",{type:"url",value:O.linkedinProfile,onChange:e=>Q("linkedinProfile",e.target.value),placeholder:"https://linkedin.com/in/votre-profil",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]})]}),(0,o.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,o.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:F.contact}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.email," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),(0,o.jsx)("input",{type:"email",required:!0,value:O.email,onChange:e=>Q("email",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.country," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),P?(0,o.jsx)("div",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 bg-gray-50",children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:F.loadingCountries})]})}):(0,o.jsxs)("select",{required:!0,value:O.country,onChange:e=>Q("country",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 bg-white shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[(0,o.jsx)("option",{value:"",children:F.selectCountry}),E.map((e=>(0,o.jsxs)("option",{value:e.value,children:[e.flag?"".concat(e.flag," "):"",e.label," (",e.phoneCode,")"]},e.value)))]})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[F.phoneNumber," ",F.optional]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:F.countryCode}),(0,o.jsx)("input",{type:"text",placeholder:"+1",value:O.countryCode,onChange:e=>Q("countryCode",e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:F.areaCode}),(0,o.jsx)("input",{type:"text",placeholder:"514",value:O.areaCode,onChange:e=>Q("areaCode",e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:F.phoneNumber}),(0,o.jsx)("input",{type:"text",placeholder:"1234567",value:O.phoneNumber,onChange:e=>Q("phoneNumber",e.target.value),className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]})]})]})]}),(0,o.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,o.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:F.company}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.companyName," ",F.optional]}),(0,o.jsx)("input",{type:"text",value:O.companyName,onChange:e=>Q("companyName",e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.companyWebsite," ",F.optional]}),(0,o.jsx)("input",{type:"url",value:O.companyWebsite,onChange:e=>Q("companyWebsite",e.target.value),placeholder:"https://votre-entreprise.com",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.companyLinkedin," ",F.optional]}),(0,o.jsx)("input",{type:"url",value:O.companyLinkedin,onChange:e=>Q("companyLinkedin",e.target.value),placeholder:"https://linkedin.com/company/votre-entreprise",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.password," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)(x,{value:O.password,onChange:e=>Q("password",e.target.value),required:!0})})]}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[F.confirmPassword," ",(0,o.jsx)("span",{className:"text-red-500",children:F.required})]}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)(x,{value:O.confirmPassword,onChange:e=>Q("confirmPassword",e.target.value),required:!0})})]}),(0,o.jsx)(f,{password:O.password,confirmPassword:O.confirmPassword})]})]})})]}),(0,o.jsx)("div",{className:"flex-shrink-0 bg-gray-50 border-t border-gray-200 px-6 py-4 rounded-b-lg",children:(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{type:"button",onClick:ee,className:"flex-1 rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:F.backToLogin}),(0,o.jsx)("button",{onClick:Z,disabled:v,className:"flex-1 rounded-md border border-transparent bg-green-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?F.creating:F.createAccount})]})})]})})]}))}function w(){return console.log("\ud83c\udf81 [Page] Composant Page principal appel\xe9"),(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)(b,{}),children:(0,o.jsx)(C,{})})}}},function(e){e.O(0,[216,286,744],(function(){return r=9091,e(e.s=r);var r}));var r=e.O();_N_E=r}]);