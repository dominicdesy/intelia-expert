"use strict";exports.id=239,exports.ids=[239],exports.modules={4239:(e,a,l)=>{l.d(a,{FE:()=>m,rememberMeUtils:()=>u});var t=l(7577),o=l(6007);const r=[{value:"CA",label:"Canada",phoneCode:"+1",flag:"\ud83c\udde8\ud83c\udde6"},{value:"US",label:"\xc9tats-Unis",phoneCode:"+1",flag:"\ud83c\uddfa\ud83c\uddf8"},{value:"FR",label:"France",phoneCode:"+33",flag:"\ud83c\uddeb\ud83c\uddf7"},{value:"GB",label:"Royaume-Uni",phoneCode:"+44",flag:"\ud83c\uddec\ud83c\udde7"},{value:"DE",label:"Allemagne",phoneCode:"+49",flag:"\ud83c\udde9\ud83c\uddea"},{value:"IT",label:"Italie",phoneCode:"+39",flag:"\ud83c\uddee\ud83c\uddf9"},{value:"ES",label:"Espagne",phoneCode:"+34",flag:"\ud83c\uddea\ud83c\uddf8"},{value:"BE",label:"Belgique",phoneCode:"+32",flag:"\ud83c\udde7\ud83c\uddea"},{value:"CH",label:"Suisse",phoneCode:"+41",flag:"\ud83c\udde8\ud83c\udded"},{value:"MX",label:"Mexique",phoneCode:"+52",flag:"\ud83c\uddf2\ud83c\uddfd"},{value:"BR",label:"Br\xe9sil",phoneCode:"+55",flag:"\ud83c\udde7\ud83c\uddf7"},{value:"AU",label:"Australie",phoneCode:"+61",flag:"\ud83c\udde6\ud83c\uddfa"},{value:"JP",label:"Japon",phoneCode:"+81",flag:"\ud83c\uddef\ud83c\uddf5"},{value:"CN",label:"Chine",phoneCode:"+86",flag:"\ud83c\udde8\ud83c\uddf3"},{value:"IN",label:"Inde",phoneCode:"+91",flag:"\ud83c\uddee\ud83c\uddf3"},{value:"NL",label:"Pays-Bas",phoneCode:"+31",flag:"\ud83c\uddf3\ud83c\uddf1"},{value:"SE",label:"Su\xe8de",phoneCode:"+46",flag:"\ud83c\uddf8\ud83c\uddea"},{value:"NO",label:"Norv\xe8ge",phoneCode:"+47",flag:"\ud83c\uddf3\ud83c\uddf4"},{value:"DK",label:"Danemark",phoneCode:"+45",flag:"\ud83c\udde9\ud83c\uddf0"},{value:"FI",label:"Finlande",phoneCode:"+358",flag:"\ud83c\uddeb\ud83c\uddee"}];let n={},s=!1,i={};const m=()=>{const{currentLanguage:e}=(0,o.$G)(),a=(e=>({fr:"fra",es:"spa",de:"deu",pt:"por",nl:"nld",pl:"pol",zh:"zho",hi:"hin",th:"tha",en:"eng"}[e]||"eng"))(e),[l,m]=(0,t.useState)((()=>n[a]||r)),[u,c]=(0,t.useState)((()=>!n[a])),[d,h]=(0,t.useState)((()=>!n[a])),f=(0,t.useRef)({}),p=(0,t.useRef)(!0);return(0,t.useEffect)((()=>{if(f.current[a])return;if(f.current[a]=!0,n[a])return m(n[a]),h(!1),void c(!1);const e=setTimeout((async()=>{if(p.current){c(!0);try{const e=await(async e=>n[e]?n[e]:(i[e]||(i[e]=new Promise((async a=>{try{s=!0;const l=new AbortController,t=setTimeout((()=>{l.abort()}),1e4),o=await fetch("https://restcountries.com/v3.1/all?fields=cca2,name,idd,flag,translations",{headers:{Accept:"application/json","User-Agent":"Mozilla/5.0 (compatible; Intelia/1.0)","Cache-Control":"no-cache"},signal:l.signal});if(clearTimeout(t),o.status,o.statusText,!o.ok)throw new Error(`API indisponible: ${o.status}`);const r=await o.json();if(r.length,!Array.isArray(r))throw new Error("Format de donn\xe9es invalide");const i=r.map((a=>{let l="";a.idd?.root&&(l=a.idd.root,a.idd.suffixes&&a.idd.suffixes[0]&&(l+=a.idd.suffixes[0]));let t=a.name?.common||a.cca2;return a.translations&&a.translations[e]?t=a.translations[e].common||a.translations[e].official:a.name?.common&&(t=a.name.common),{value:a.cca2,label:t,phoneCode:l,flag:a.flag||""}})).filter((e=>{const a=e.phoneCode&&"undefined"!==e.phoneCode&&"null"!==e.phoneCode&&e.phoneCode.length>1&&e.phoneCode.startsWith("+")&&/^\+\d+$/.test(e.phoneCode),l=e.value&&2===e.value.length&&e.label&&e.label.length>1;return a&&l})).sort(((a,l)=>{const t="fra"===e?"fr":"spa"===e?"es":"deu"===e?"de":"por"===e?"pt":"nld"===e?"nl":"pol"===e?"pl":"zho"===e?"zh":"en";return a.label.localeCompare(l.label,t,{numeric:!0})}));if(i.length,!(i.length>=50))throw i.length,new Error(`Qualit\xe9 insuffisante: ${i.length}/50 pays`);n[e]=i,a(i)}catch(l){n[e]=r,a(r)}finally{s=!1,delete i[e]}}))),i[e]))(a);p.current&&(m(e),h(e===r),c(!1))}catch(e){p.current&&(m(r),h(!0),c(!1))}}}),100);return()=>{clearTimeout(e)}}),[a]),(0,t.useEffect)((()=>()=>{p.current=!1}),[]),l.length,(0,t.useMemo)((()=>({countries:l,loading:u,usingFallback:d})),[l,u,d])},u={STORAGE_KEY:"intelia-remember-me-persist",save:(e,a)=>{try{if(!a||!e.trim())return void localStorage.removeItem(u.STORAGE_KEY);const l={email:e.trim(),rememberMe:!0,timestamp:Date.now(),version:"1.0"};localStorage.setItem(u.STORAGE_KEY,JSON.stringify(l)),e.trim()}catch(l){}},load:()=>{try{const e=localStorage.getItem(u.STORAGE_KEY);if(!e)return{rememberMe:!1,lastEmail:""};const a=JSON.parse(e);if(!a.email||"boolean"!==typeof a.rememberMe)return localStorage.removeItem(u.STORAGE_KEY),{rememberMe:!1,lastEmail:""};const l=Date.now()-(a.timestamp||0);return l>2592e6?(localStorage.removeItem(u.STORAGE_KEY),{rememberMe:!1,lastEmail:""}):(a.email,a.rememberMe,Math.round(l/864e5),{rememberMe:a.rememberMe,lastEmail:a.email})}catch(e){try{localStorage.removeItem(u.STORAGE_KEY)}catch(a){}return{rememberMe:!1,lastEmail:""}}},clear:()=>{try{localStorage.removeItem(u.STORAGE_KEY)}catch(e){}},preserveOnLogout:()=>{const e=u.load();return e.rememberMe&&e.lastEmail?{email:e.lastEmail,rememberMe:!0}:null},restoreAfterLogout:e=>{e&&e.rememberMe&&(u.save(e.email,!0),e.email)}}}};