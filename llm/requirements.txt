# ===== REQUIREMENTS.TXT - INTELIA EXPERT BACKEND =====
# Version corrigée post-analyse logs production (2025-09-19)
# Corrections: Google Translate, dimensions vectorielles, cache optimisé

# === CORE FASTAPI - Versions stables ===
fastapi==0.112.2
uvicorn[standard]==0.30.6
python-dotenv==1.0.1

# === HTTP CLIENTS - Versions compatibles ===
httpx[http2]==0.27.0
httpcore==1.0.5
anyio>=4.0.0

# === OPENAI API - Version LTS stable ===
openai==1.42.0

# === WEAVIATE CLIENT - Version corrigée pour dimensions ===
weaviate-client==4.16.10

# === REDIS CACHE - Performance optimisée ===
redis[hiredis]==5.0.1
hiredis==2.3.2

# === CORRECTIONS BUGS PRODUCTION ===

# Google Cloud Translation - VERSION CORRIGÉE API
google-cloud-translate>=3.15.0,<4.0.0
google-auth>=2.23.0
google-auth-oauthlib>=1.0.0

# Retry et résilience - Fix timeouts et erreurs réseau
tenacity>=8.2.0
backoff>=2.2.0

# Gestion fichiers async - Optimisation I/O
aiofiles>=23.0.0

# Utilitaires ML - Fix dimensions vectorielles
scikit-learn>=1.3.0,<1.5.0

# Monitoring avancé - Diagnostic mémoire
memory-profiler>=0.61.0

# === SUPPORT MULTILINGUE - FastText corrigé ===
fasttext-langdetect>=1.0.3
# Alternative si fasttext-langdetect indisponible:
# fast-langdetect>=0.3.0

# Cache intelligent multilingue
cachetools>=5.3.0

# === INTELLIGENCE MÉTIER - Versions testées ===
transformers==4.45.2
torch>=2.0.0,<2.5.0

# === TRAITEMENT TEXTE - Normalisation critique ===
unidecode==1.3.8

# === RERANKING ET SIMILARITÉ ===
sentence-transformers==3.1.1
voyageai==0.2.3

# === LANGSMITH MONITORING - Versions compatibles ===
langchain-core==0.1.16
langsmith>=0.0.83,<0.1.0

# === UTILITAIRES BASE - Versions stables ===
numpy>=1.24.0,<2.0.0
scipy>=1.11.0,<1.15.0
pandas>=2.0.0,<3.0.0

# === SÉCURITÉ ET VALIDATION - Pydantic v2 ===
pydantic>=2.8.0,<3.0.0
validators>=0.22.0
bleach>=6.0.0

# === MONITORING ET LOGGING ===
prometheus-client==0.20.0
structlog==23.2.0

# === SUPPORT FICHIERS ===
openpyxl==3.1.2

# === TESTS - Versions compatibles ===
pytest==8.3.3
pytest-asyncio==0.24.0

# === OUTILS DÉVELOPPEMENT ===
black==24.10.0
flake8==7.1.1

# === ASYNC ET AGENTS ===
dataclasses-json==0.6.7
asyncio-throttle==1.0.2

# === COMPATIBILITÉ PYTHON 3.13 ===
typing-extensions>=4.8.0

# === CONTRAINTES SÉCURITÉ - Versions renforcées ===
urllib3>=2.0.0,<3.0.0
certifi>=2023.7.22
cryptography>=41.0.7
requests>=2.31.0

# === OPTIMISATIONS DÉPLOIEMENT ===
brotli>=1.0.9
zstandard>=0.22.0
psutil>=5.9.0

