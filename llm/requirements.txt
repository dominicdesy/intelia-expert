# ===== REQUIREMENTS.TXT - INTELIA EXPERT BACKEND =====
# Version 4.0 - Système RAG JSON Core (Dépendances Essentielles)
# Version nettoyée sans optionnels pour Docker

# === CORE FASTAPI - Versions stables ===
fastapi==0.112.2
uvicorn[standard]==0.30.6
python-dotenv==1.0.1

# === HTTP CLIENTS - Versions compatibles ===
httpx[http2]==0.27.0
httpcore==1.0.5
anyio>=4.0.0

# === OPENAI API - Version LTS stable ===
openai==1.42.0

# === WEAVIATE CLIENT - Version corrigée pour dimensions ===
weaviate-client==4.16.10

# === REDIS CACHE - Performance optimisée ===
redis[hiredis]==5.0.1
hiredis==2.3.2

# === BASE DE DONNÉES POSTGRESQL ===
# Support PostgreSQL pour données structurées et performance records
asyncpg==0.29.0
psycopg2-binary==2.9.9
sqlalchemy[asyncio]==2.0.23
alembic==1.13.1

# === VALIDATION ET SCHÉMAS JSON ===
# Validation avancée de documents JSON avicoles
jsonschema==4.20.0
jsonref==1.1.0
json-flatten==0.3.1
ujson==5.8.0
orjson==3.9.10

# === EXTRACTEURS AVICOLES ESSENTIELS ===
# Extraction de base sans dépendances lourdes
pdfplumber==0.10.0
python-docx==1.1.0
openpyxl==3.1.2

# === TRAITEMENT DONNÉES AVICOLES ===
# Normalisation et validation données biologiques
pint==0.23
dateparser==1.2.0
fuzzywuzzy[speedup]==0.18.0
python-levenshtein==0.25.0

# === INGESTION ET PIPELINE ===
# Pipeline de traitement batch
python-multipart==0.0.6
aiofiles>=23.0.0

# === CORRECTIONS BUGS PRODUCTION ===
# Google Cloud Translation - VERSION CORRIGÉE API
google-cloud-translate>=3.15.0,<4.0.0
google-auth>=2.23.0
google-auth-oauthlib>=1.0.0

# Retry et résilience
tenacity>=8.2.0
backoff>=2.2.0

# Utilitaires ML
scikit-learn>=1.3.0,<1.5.0

# Monitoring avancé
memory-profiler>=0.61.0

# === SUPPORT MULTILINGUE ===
fasttext-langdetect>=1.0.3
cachetools>=5.3.0

# === INTELLIGENCE MÉTIER ===
transformers==4.45.2
torch>=2.0.0,<2.5.0

# === TRAITEMENT TEXTE ===
unidecode==1.3.8

# === RERANKING ET SIMILARITÉ ===
sentence-transformers==3.1.1
voyageai==0.2.3

# === RECHERCHE HYBRIDE ===
rank-bm25==0.2.2
faiss-cpu==1.7.4

# === ANALYSE PERFORMANCE AVICOLE ===
statsmodels==0.14.1
lifelines==0.27.8
pingouin==0.5.4

# === LANGSMITH MONITORING ===
langchain-core==0.1.16
langsmith>=0.0.83,<0.1.0

# === UTILITAIRES BASE ===
numpy>=1.24.0,<2.0.0
scipy>=1.11.0,<1.15.0
pandas>=2.0.0,<3.0.0

# === GESTION MÉTADONNÉES ===
python-slugify==8.0.1
nameparser==1.1.3
regex==2023.12.25

# === SÉCURITÉ ET VALIDATION ===
pydantic>=2.8.0,<3.0.0
validators>=0.22.0
bleach>=6.0.0

# === CACHE INTELLIGENT ESSENTIEL ===
diskcache==5.6.3
pylru==1.2.1

# === MONITORING ET LOGGING ===
prometheus-client==0.20.0
structlog==23.2.0

# === TESTS - Versions compatibles ===
pytest==8.3.3
pytest-asyncio==0.24.0
pytest-postgresql==6.0.0
pytest-benchmark==4.0.0

# === TESTS SPÉCIALISÉS AVICOLE ===
hypothesis==6.92.1
factory-boy==3.3.0
faker==20.1.0

# === OUTILS DÉVELOPPEMENT ===
black==24.10.0
flake8==7.1.1
mypy==1.7.1

# === ASYNC ET AGENTS ===
dataclasses-json==0.6.7
asyncio-throttle==1.0.2

# === PARALLÉLISATION ESSENTIELLE ===
joblib==1.3.2

# === COMPATIBILITÉ PYTHON 3.13 ===
typing-extensions>=4.8.0

# === CONTRAINTES SÉCURITÉ ===
urllib3>=2.0.0,<3.0.0
certifi>=2023.7.22
cryptography>=41.0.7
requests>=2.31.0

# === SÉCURITÉ DONNÉES AVICOLES ===
keyring==24.3.0
python-jose[cryptography]==3.3.0

# === OPTIMISATIONS DÉPLOIEMENT ===
brotli>=1.0.9
zstandard>=0.22.0
psutil>=5.9.0

# === OPTIMISATIONS PRODUCTION ===
gunicorn==21.2.0
gevent==23.9.1
setproctitle==1.3.3

# === GESTION CONFIGURATION ===
dynaconf==3.2.4
python-decouple==3.8
click==8.1.7

# === FORMATS DONNÉES SPÉCIALISÉS ===
xmltodict==0.13.0
pyyaml==6.0.1
toml==0.10.2
configparser==6.0.0

# === CONTRAINTES FINALES ===
setuptools>=65.0.0
wheel>=0.42.0
pip>=23.0.0

# === NOTES IMPORTANTES ===
# 1. Version core sans dépendances optionnelles problématiques
# 2. PostgreSQL requis pour données structurées performance
# 3. Système JSON avec extracteurs essentiels uniquement
# 4. Tests inclus pour CI/CD
# 5. Monitoring de base pour production
# 6. Cache disk seulement (RocksDB retiré)