# === DÉPENDANCES EXISTANTES (conservées) ===
fastapi==0.112.2
uvicorn[standard]==0.30.6
python-dotenv==1.0.1
openai==1.107.0
langdetect==1.0.9

# === NOUVELLES DÉPENDANCES RAG ===

# Base vectorielle Weaviate (recommandé - gratuit en local)
weaviate-client==3.25.3

# Reranker VoyageAI (200M tokens gratuits/mois)
voyageai==0.3.5

# Classification NLI et embeddings
transformers==4.36.2
torch>=1.13.0,<2.1.0
sentence-transformers==2.2.2

# Support calculs vectoriels
numpy==1.24.4
scipy==1.11.4

# Alternative: Si vous préférez Pinecone (plus cher)
# pinecone-client==2.2.4

# Alternative: Si vous préférez Cohere (API payante)
# cohere==4.37

# Alternative: Si vous préférez Elastic (plus cher)
# elasticsearch==8.11.0

# === OPTIMISATIONS OPTIONNELLES ===

# Cache Redis pour optimiser les performances
# redis==5.0.1

# Monitoring et métriques
# prometheus-client==0.19.0

# Accélération GPU (optionnel, seulement si GPU disponible)
# torch==2.1.1+cu118 -f https://download.pytorch.org/whl/cu118

# === NOTES D'INSTALLATION ===

# 1. Installation minimale pour démarrer (ajoutez à votre requirements.txt):
#    weaviate-client==3.25.3
#    voyageai==0.3.5
#    transformers==4.36.2
#    torch>=1.13.0,<2.1.0
#    sentence-transformers==2.2.2
#    numpy==1.24.4

# 2. Si erreurs avec torch, utilisez CPU uniquement:
#    pip install torch --index-url https://download.pytorch.org/whl/cpu

# 3. Pour production, verrouillez les versions:
#    pip freeze > requirements-lock.txt

# 4. Installation Docker optimisée:
#    FROM python:3.11-slim
#    RUN pip install --no-cache-dir -r requirements.txt